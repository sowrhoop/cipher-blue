# Cipherblue hardened dnscrypt-proxy configuration
# Strict DoH-only with Unix socket listener

# Listen on a Unix socket instead of a network port
listen_addresses = ['/run/dnscrypt-proxy/dnscrypt-proxy.sock']

# Enforce strict DoH-only. Disable other protocols.
require_dnssec = true
require_nolog = true
require_nofilter = true
dnscrypt_servers = false
dot_servers = false
doh_servers = true

# Use a curated list of high-quality DoH servers.
# This list can be customized as needed.
server_names = ['cloudflare', 'google', 'quad9']

# Load balancing strategy
lb_strategy = 'p2'

# Cache settings (can be minimal as Unbound is the primary cache)
cache = true
cache_size = 256
cache_min_ttl = 60

# Other privacy and security settings
block_ipv6 = true
fallback_resolver = '9.9.9.9:53' # Used only for initial resolver discovery